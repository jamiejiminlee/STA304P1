---
title: "Toronto Property Crime Analysis: Changes in Rates and Types of Property Crimes (2014-2023)" 
author: 
  - Jimin Lee
thanks: "Code and data are available at: https://github.com/jamiejiminlee/Toronto-Reported-Crimes.git"
date: 27 September 2024
date-format: long
abstract: "This paper aims to explore Toronto's property crime rates and types of property crimes from 2014 to 2023. The analysis reveals a spike in property crimes in 2023, with shifts towards crime types such as break-and-enter and auto thefts."
format: pdf
number-sections: true
bibliography: references.bib
---

```{r}
#| include: false
#| warning: false
#| message: false

library(tidyverse)
library(opendatatoronto)
library(knitr)
library(dplyr)
library(readr)
```


# Introduction

In 2023, Toronto's property crime rate rose by 22.28% from 2022, reaching a total of 189,977 recorded incidents, breaking the highest recorded value of property crimes in the city.@Statista2023 This paper explores and compares the rates of property crime across different
geographic divisions of the City of Toronto. 


# Data {#sec-data}

The dataset used for this paper is "Police Annual Statistical Report" (@propertycrime_data), accessed through the Open Data Toronto portal (@opendatatoronto). The dataset was simulated, downloaded, cleaned, and analyzed using the R programming language (@citeR). Despite the existence of other datasets in OpenDataToronto such as "Police Annual Statistical Report - Victims of Crimes", it wasn't chosen for this analysis as the paper focuses solely on property crimes. 
```{r}
#### Clean data ####
raw_data <- read.csv("../data/raw_data/raw_data.csv")

cleaned_data <-
  raw_data |>
  janitor::clean_names() |>
  filter(category == "Crimes Against Property") |>
  select(report_year, division, category, subtype, count) |>
  mutate(
    count_ = as.numeric(count)) |>
  tidyr::drop_na()
cleaned_data
```


```{r}
yearly_propertycrime <- cleaned_data %>%
  group_by(report_year) %>%
  summarize(total_count = sum(count_))

yearly_propertycrime
``` 


```{r}
#| label: codechunk1
#| fig-cap: "Figure1: Graph compares the number of property crimes from 2013 to 2024, in 1-year increments. Figure displays a sudden spike in property crimes in 2023 - we will be analyzing the data from 2023 to compare different types of property crimes that occured"
#| echo: false

yearly_propertycrime %>%
  dplyr::filter(report_year >= 2013 & report_year <= 2024) |>
  ggplot(mapping = aes(x = report_year, y = total_count)) +
  geom_bar(stat = "identity", fill = "purple") +
  scale_x_continuous(breaks = seq(2013, 2024, by = 1)) +
  labs(
    x = "Year",
    y = "Reported Property Crimes"
  ) +
  theme_minimal()
```




# Model

The goal of our modelling strategy is twofold. Firstly,...

Here we briefly describe the Bayesian analysis model used to investigate... Background details and diagnostics are included in [Appendix ].

## Model set-up




### Model justification

We expect a positive relationship between the size of the wings and time spent aloft. In particular...

We can use maths by including latex between dollar signs, for instance $\theta$.


# Results

Our results are summarized in .

```{r}
#| echo: false
#| eval: true
#| warning: false
#| message: false

```






# Discussion

## First discussion point {#sec-first-point}

If my paper were 10 pages, then should be be at least 2.5 pages. The discussion is a chance to show off what you know and what you learnt from all this. 

## Second discussion point

## Third discussion point

## Weaknesses and next steps

Weaknesses and next steps should also be included.

\newpage

\appendix

# Appendix {-}


# Additional data details

# Model details {#sec-model-details}

## Posterior predictive check

```{r}
#| eval: true
#| echo: false
#| message: false
#| warning: false
#| label: fig-ppcheckandposteriorvsprior
#| layout-ncol: 2
#| fig-cap: "Examining how the model fits, and is affected by, the data"
#| fig-subcap: ["Posterior prediction check", "Comparing the posterior with the prior"]

```

## Diagnostics


```{r}
#| echo: false
#| eval: true
#| message: false
#| warning: false
#| label: fig-stanareyouokay
#| fig-cap: "Checking the convergence of the MCMC algorithm"
#| fig-subcap: ["Trace plot", "Rhat plot"]
#| layout-ncol: 2

```



\newpage


# References


